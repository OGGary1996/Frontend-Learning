<script setup>
  // å®šä¹‰æœç´¢è¡¨å•çš„å“åº”å¼æ•°æ®
  import { ref } from 'vue';
  const searchForm = ref(
      {
        name: '',
        gender: '',
        age: ''
      }
  )
  // å®šä¹‰emitäº‹ä»¶
  const emit = defineEmits(['search']);

  // å®šä¹‰emitæ–¹æ³•
  // emit æœç´¢äº‹ä»¶ï¼Œä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œå…·ä½“æœç´¢æ–¹æ³•åœ¨çˆ¶ç»„ä»¶ä¸­å®ç°
  const emitSearch = () => {
    emit('search', searchForm.value); // ä¼ é€’æœç´¢è¡¨å•
  }
  // emit æ˜¾ç¤ºæ‰€æœ‰äº‹ä»¶ï¼Œä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œå…·ä½“æ˜¾ç¤ºæ‰€æœ‰æ–¹æ³•åœ¨çˆ¶ç»„ä»¶ä¸­å®ç°
  const emitClear = () => {
    // é¦–å…ˆæ¸…ç©ºæœç´¢æ¡ä»¶
    searchForm.value.name = '';
    searchForm.value.gender = '';
    searchForm.value.age = '';
    // ç„¶åemit clearäº‹ä»¶
    emit('search', searchForm.value); // ä¼ é€’ç©ºçš„æœç´¢è¡¨å•
  }

</script>

<template>
  <div id="search">
    <div id="searchForm">
      <form action="#" method="get">
        <span>Search ğŸ‘‰</span>&nbsp;
        <label for="studentName">Name:</label>
        <input v-model="searchForm.name" type="text" id="studentName" name="name">&nbsp;
        <label for="studentGender">Gender:</label>
        <select v-model="searchForm.gender" name="gender" id="studentGender">
          <option value="" selected>Not Specify</option>
          <option value="1" >Male</option>
          <option value="0" >Female</option>
        </select>&nbsp;
        <label for="studentAge">Age:</label>
        <input v-model="searchForm.age" type="text" id="studentAge" name="age">
      </form>
    </div>
    <div id="buttons">
      <input type="button" value="Show All" v-on:click="emitClear" id="clearBtn">
      <input type="button" value="Search" v-on:click="emitSearch" id="searchBtn">
    </div>
  </div>
</template>

<style scoped>
  #search{
    width:90%;
    height:40px;
    border:1px solid #ccc;
    border-radius:20px;
    margin:20px auto;
    padding:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
</style>